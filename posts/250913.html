<!DOCTYPE html><html lang="zh-CN"><head><meta name="generator" content="Hexo 6.3.0"><meta name="hexo-theme" content="https://github.com/chiyuki0325/hexo-theme-stellaris/tree/2.2.0"><meta charset="utf-8"><meta http-equiv="X-DNS-Prefetch-Control" content="on"><link rel="dns-prefetch" href="https://cdn.jsdmirror.com"><link rel="preconnect" href="https://cdn.jsdmirror.com" crossorigin="true"><link rel="dns-prefetch" href="https://npm.elemecdn.com"><link rel="preconnect" href="https://npm.elemecdn.com" crossorigin="true"><link rel="dns-prefetch" href="https://bu.dusays.com"><link rel="preconnect" href="https://bu.dusays.com" crossorigin="true"><meta name="renderer" content="webkit"><meta name="force-rendering" content="webkit"><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"><meta name="HandheldFriendly" content="true"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="black-translucent"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1"><meta name="theme-color" media="(prefers-color-scheme: light) and (max-width: 667px)" content="#eff4f9"><meta name="theme-color" media="(prefers-color-scheme: light)" content="#f8f8f8"><meta name="theme-color" media="(prefers-color-scheme: dark) and (max-width: 667px)" content="#000000"><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#202020"><meta name="darkreader-lock"><link href="https://npm.elemecdn.com" rel="preconnect"><link href="https://cdn.jsdmirror.com" rel="preconnect"><title>如何在诺基亚上愉快的使用DeepSeek - 怪诞的小站</title><meta property="og:type" content="article"><meta property="og:title" content="如何在诺基亚上愉快的使用DeepSeek"><meta property="og:url" content="https://blog.keee.top/posts/250913.html"><meta property="og:site_name" content="怪诞的小站"><meta property="og:description" content="由于nokia的浏览器只能访问静态网页，无法加载js，所以我们用Cloudflare worker代理向api发送请求，再渲染为静态页面返回给浏览器即可。 下面是Cloudflare worker的代码实现。注意要绑定KV，名字为CACHE，你也可以自己更改 注：  可能存在部分网络情况下无法访问Cloudflare的情况，对此我的办法是走vercel反代，当然会有1min限时的问题但我也没想出别"><meta property="og:locale" content="zh_CN"><meta property="article:modified_time" content="2025-09-13T14:21:48.000Z"><meta property="article:author" content="Keee"><meta name="article:tag" content="deepseek"><meta name="article:tag" content="诺基亚"><meta property="twitter:card" content="summary"><meta name="description" content="由于nokia的浏览器只能访问静态网页，无法加载js，所以我们用Cloudflare worker代理向api发送请求，再渲染为静态页面返回给浏览器即可。
下面是Cloudflare worker的代码实现。注意要绑定KV，名字为CACHE，你也可以自己更改
注：

可能存在部分网络情况下无法..."><link rel="alternate" href="/atom.xml" type="application/atom+xml" title="怪诞的小站"><link rel="shortcut icon" href="https://npm.elemecdn.com/cqlkc_assets@1.0.1/img/siteicon/64.png"><script data-no-instant="true">const themeModeList=["light","dark","auto"];var ThemeChange=e=>{null==e&&(e="auto"),document.documentElement.setAttribute("data-theme",e),window.localStorage.setItem("Stellaris.theme",e)};ThemeChange(window.localStorage.getItem("Stellaris.theme"))</script><link rel="stylesheet" href="/css/main.css"><meta name="mobile-web-app-capable" content="yes"><link rel="manifest" href="/manifest.json"><link rel="stylesheet" href="https://npm.elemecdn.com/lxgw-wenkai-screen-webfont/style.css" media="print"><meta name="baidu-site-verification" content="codeva-8nAvpqNA7U"><script data-no-instant="">!function(t){"use strict";!function(){var s=window,c=document,e=t,i="".concat("https:"===c.location.protocol?"https://":"http://","cdn.jsdmirror.com/gh/cqlkc/cqlkc.github.io@master/js/tj-51.la.js"),o=c.createElement("script"),r=c.getElementsByTagName("script")[0];o.type="text/javascript",o.setAttribute("charset","UTF-8"),o.async=!0,o.src=i,o.id="LA_COLLECT",e.d=o;var n=function(){s.LA.ids.push(e)};s.LA?s.LA.ids&&n():(s.LA=t,s.LA.ids=[],n()),r.parentNode.insertBefore(o,r)}()}({id:"JsIPVLs73ODMmvyo",ck:"JsIPVLs73ODMmvyo"})</script></head><body><div class="l_body" id="start"><aside class="l_left" layout="post"><header class="header"><div class="logo-wrap"><a class="avatar" href="/about/"><div class="bg" style="opacity:0;background-image:url(&quot;https://cdn.jsdmirror.com/gh/cdn-x/placeholder@1.0.2/avatar/round/rainbow64@3x.webp&quot;)"></div><img no-lazy="true" class="avatar lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="https://blog.keee.top/img/avatar-24.webp" alt="avatar"></a><a class="title" href="/"><div class="main" ff="title">怪诞的小站</div><div class="sub cap">开心就好。</div></a></div><nav class="menu dis-select"><a class="nav-item active" href="/">文章</a><a class="nav-item" href="/bbtalk/">说说</a><a class="nav-item" href="/friends/">友链</a><a class="nav-item" href="/about/">关于</a></nav></header><div class="widgets"><widget class="widget-wrapper recent"><div class="widget-header cap theme dis-select"><span class="name">最近更新</span><a class="cap-action" id="rss" title="Subscribe" href="/atom.xml"><svg class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="8938"><path d="M800.966 947.251c0-404.522-320.872-732.448-716.69-732.448V62.785c477.972 0 865.44 395.987 865.44 884.466h-148.75zm-162.273 0h-148.74c0-228.98-181.628-414.598-405.678-414.598v-152.01c306.205 0 554.418 253.68 554.418 566.608zm-446.24-221.12c59.748 0 108.189 49.503 108.189 110.557 0 61.063-48.44 110.563-108.188 110.563-59.747 0-108.18-49.5-108.18-110.563 0-61.054 48.433-110.556 108.18-110.556z" p-id="8939"></path></svg></a></div><div class="widget-body related-posts fs14"><a class="item title" href="/posts/34206.html"><span class="title">红米9A “Windows未识别的USB设备” 深度救砖</span></a><a class="item title" href="/posts/59890.html"><span class="title">给你的A卡换张皮--强刷vBIOS开核</span></a><a class="item title" href="/posts/59508.html"><span class="title">a卡视频开启插帧功能</span></a><a class="item title" href="/posts/51203.html"><span class="title">Caddy -- 一款优秀的Web服务器</span></a><a class="item title" href="/posts/13283.html"><span class="title">给老手机部署上Alist服务</span></a></div></widget><widget class="widget-wrapper markdown"><div class="widget-header cap theme dis-select"><span class="name">开往</span></div><div class="widget-body fs14"><a href="https://www.travellings.cn/go.html" target="_blank" rel="noopener" title="开往-友链接力"><img class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="https://www.travellings.cn/assets/w.png" alt="开往-友链接力" width="120"></a></div></widget><widget class="widget-wrapper markdown"><div class="widget-header cap theme dis-select"><span class="name">一言</span></div><div class="widget-body fs14"><p id="hitokoto_all"><a href="#" id="hitokoto_text">思考中🤔...</a></p></div></widget><widget class="widget-wrapper recent"><div class="widget-header cap theme dis-select"><span class="name">最近更新</span><a class="cap-action" id="rss" title="Subscribe" href="/atom.xml"><svg class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="8938"><path d="M800.966 947.251c0-404.522-320.872-732.448-716.69-732.448V62.785c477.972 0 865.44 395.987 865.44 884.466h-148.75zm-162.273 0h-148.74c0-228.98-181.628-414.598-405.678-414.598v-152.01c306.205 0 554.418 253.68 554.418 566.608zm-446.24-221.12c59.748 0 108.189 49.503 108.189 110.557 0 61.063-48.44 110.563-108.188 110.563-59.747 0-108.18-49.5-108.18-110.563 0-61.054 48.433-110.556 108.18-110.556z" p-id="8939"></path></svg></a></div><div class="widget-body related-posts fs14"><a class="item title" href="/posts/34206.html"><span class="title">红米9A “Windows未识别的USB设备” 深度救砖</span></a><a class="item title" href="/posts/59890.html"><span class="title">给你的A卡换张皮--强刷vBIOS开核</span></a><a class="item title" href="/posts/59508.html"><span class="title">a卡视频开启插帧功能</span></a><a class="item title" href="/posts/51203.html"><span class="title">Caddy -- 一款优秀的Web服务器</span></a><a class="item title" href="/posts/13283.html"><span class="title">给老手机部署上Alist服务</span></a></div></widget></div><footer class="footer dis-select"><div class="social-wrap"><a class="social on-click-event" href="https://github.com/keee7/" target="_blank" rel="external nofollow noopener noreferrer" data-on-click=""><img class="lazy" no-lazy="" width="24" height="24" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="https://cdn.jsdmirror.com/gh/cdn-x/placeholder@1.0.3/social/08a41b181ce68.svg"></a><a class="social on-click-event" href="/about/#comments" target="" rel="noopener noreferrer" data-on-click=""><img class="lazy" width="24" height="24" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="https://cdn.jsdmirror.com/gh/cdn-x/placeholder@1.0.3/social/942ebbf1a4b91.svg"></a><div class="darkmode-switch-container social on-click-event" data-on-click="switchTheme()" id="darkmode-switch-auto"><div class="darkmode-switch" id="darkmode-switch-auto" title="切换到跟随系统配色" data-on-click="switchTheme()"><img class="lazy" no-lazy="" width="24" height="24" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="/images/sun-moon.svg"></div><div class="darkmode-switch" id="darkmode-switch-light" title="切换到浅色模式" data-on-click="switchTheme()"><img class="lazy" no-lazy="" width="24" height="24" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="/images/sun-fill.svg"></div><div class="darkmode-switch" id="darkmode-switch-dark" title="切换到深色模式" data-on-click="switchTheme()"><img class="lazy" no-lazy="" width="24" height="24" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="/images/moon-fill.svg"></div></div></div></footer></aside><div class="l_main"><div><div class="bread-nav fs12"><div class="left"><div id="breadcrumb"><a class="cap breadcrumb" href="/">主页</a><span class="sep"></span><a class="cap breadcrumb" href="/">文章</a><span class="sep"></span><a class="cap breadcrumb-link" href="/categories/%E6%B0%B4%E6%96%87/">水文</a></div><div id="post-meta"><span>发布于 <time datetime="2025-04-23T10:58:00.000Z">2025-04-23</time>，更新于 <time datetime="2025-09-13T14:21:48.000Z">2025-09-13</time></span><span id="outdated"></span></div></div></div><div id="summary-wrapper"><div id="title"><span id="summary-post" class="name"><span class="icon-robot"></span> <span class="text">文章摘要</span><span class="icon-up"></span></span> <span id="ai-logo" class="logo">llama-3.1-405b</span></div><div id="post-ai-result" class="post-ai-result"><span id="post-ai-result-text" class="text"><span id="result-loading">加载中...</span></span></div><div id="meta"><span class="tip">此内容由AI根据文章生成，完全没经过人工审核，仅用于文章内容的解释与总结</span></div></div><article class="md-text content post reveal" id="如何在诺基亚上愉快的使用DeepSeek"><h1 class="article-title"><span>如何在诺基亚上愉快的使用DeepSeek</span></h1><div id="markd-content"><p>由于nokia的浏览器只能访问静态网页，无法加载js，所以我们用Cloudflare worker代理向api发送请求，再渲染为静态页面返回给浏览器即可。</p><p>下面是Cloudflare worker的代码实现。<br>注意要绑定KV，名字为CACHE，你也可以自己更改</p><p>注：</p><ol><li>可能存在部分网络情况下无法访问Cloudflare的情况，对此我的办法是走vercel反代，当然会有1min限时的问题但我也没想出别的办法。</li><li>连续对话功能没有实现，以后再做吧</li><li>deepseek可能会花过多时间思考，导致请求超时。这属于是硬伤，可能只有换成别的轻量模型会好点</li></ol><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="variable constant_">CACHE_TTL</span> = <span class="number">864000</span>; <span class="comment">// 缓存有效期24小时（单位：秒）</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">createHTML</span>(<span class="params">title, content</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="string">`&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="string">&lt;html&gt;</span></span><br><span class="line"><span class="string">&lt;head&gt;</span></span><br><span class="line"><span class="string">  &lt;title&gt;<span class="subst">$&#123;title&#125;</span>&lt;/title&gt;</span></span><br><span class="line"><span class="string">  &lt;meta charset=&quot;UTF-8&quot;&gt;</span></span><br><span class="line"><span class="string">  &lt;style&gt;</span></span><br><span class="line"><span class="string">    body &#123; </span></span><br><span class="line"><span class="string">      font-family: -apple-system, system-ui, sans-serif;</span></span><br><span class="line"><span class="string">      max-width: 800px;</span></span><br><span class="line"><span class="string">      margin: 1rem auto;</span></span><br><span class="line"><span class="string">      padding: 0 1rem;</span></span><br><span class="line"><span class="string">      line-height: 1.5</span></span><br><span class="line"><span class="string">    &#125;</span></span><br><span class="line"><span class="string">    .box &#123; </span></span><br><span class="line"><span class="string">      background: #f8f9fa;</span></span><br><span class="line"><span class="string">      padding: 1rem;</span></span><br><span class="line"><span class="string">      margin: 1rem 0;</span></span><br><span class="line"><span class="string">      border-radius: 4px;</span></span><br><span class="line"><span class="string">      border: 1px solid #dee2e6</span></span><br><span class="line"><span class="string">    &#125;</span></span><br><span class="line"><span class="string">    .cache-link &#123; </span></span><br><span class="line"><span class="string">      color: #0d6efd;</span></span><br><span class="line"><span class="string">      word-break: break-all</span></span><br><span class="line"><span class="string">    &#125;</span></span><br><span class="line"><span class="string">  &lt;/style&gt;</span></span><br><span class="line"><span class="string">&lt;/head&gt;</span></span><br><span class="line"><span class="string">&lt;body&gt;</span></span><br><span class="line"><span class="string">  <span class="subst">$&#123;content&#125;</span></span></span><br><span class="line"><span class="string">&lt;/body&gt;</span></span><br><span class="line"><span class="string">&lt;/html&gt;`</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 转义HTML特殊字符</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">escapeHTML</span>(<span class="params">str</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> str.<span class="title function_">replace</span>(<span class="regexp">/[&amp;&lt;&gt;&quot;&#x27;]/g</span>, <span class="function"><span class="params">m</span> =&gt;</span> </span><br><span class="line">    (&#123; <span class="string">&#x27;&amp;&#x27;</span>: <span class="string">&#x27;&amp;amp;&#x27;</span>, <span class="string">&#x27;&lt;&#x27;</span>: <span class="string">&#x27;&amp;lt;&#x27;</span>, <span class="string">&#x27;&gt;&#x27;</span>: <span class="string">&#x27;&amp;gt;&#x27;</span>, <span class="string">&#x27;&quot;&#x27;</span>: <span class="string">&#x27;&amp;quot;&#x27;</span>, <span class="string">&quot;&#x27;&quot;</span>: <span class="string">&#x27;&amp;#39;&#x27;</span> &#125;)[m]</span><br><span class="line">  );</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* * * * * * * * * * * *</span></span><br><span class="line"><span class="comment"> *  micromarkdown .js  *</span></span><br><span class="line"><span class="comment"> *    Version 0.3.4    *</span></span><br><span class="line"><span class="comment"> *    License:  MIT    *</span></span><br><span class="line"><span class="comment"> *   Simon  Waldherr   *</span></span><br><span class="line"><span class="comment"> * * * * * * * * * * * */</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">markdownToHtml</span>(<span class="params">markdown</span>) &#123;</span><br><span class="line">  <span class="keyword">const</span> lines = markdown.<span class="title function_">split</span>(<span class="string">&#x27;\n&#x27;</span>);</span><br><span class="line">  <span class="keyword">let</span> html = [];</span><br><span class="line">  <span class="keyword">let</span> inList = <span class="literal">false</span>;</span><br><span class="line">  <span class="keyword">let</span> currentParagraph = [];</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> <span class="title function_">flushParagraph</span> = (<span class="params"></span>) =&gt; &#123;</span><br><span class="line">    <span class="keyword">if</span> (currentParagraph.<span class="property">length</span> &gt; <span class="number">0</span>) &#123;</span><br><span class="line">      html.<span class="title function_">push</span>(<span class="string">`&lt;p&gt;<span class="subst">$&#123;processInline(currentParagraph.join(<span class="string">&#x27;&lt;br&gt;&#x27;</span>))&#125;</span>&lt;/p&gt;`</span>);</span><br><span class="line">      currentParagraph = [];</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> <span class="title function_">flushList</span> = (<span class="params"></span>) =&gt; &#123;</span><br><span class="line">    <span class="keyword">if</span> (inList) &#123;</span><br><span class="line">      html.<span class="title function_">push</span>(<span class="string">&#x27;&lt;/ul&gt;&#x27;</span>);</span><br><span class="line">      inList = <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> <span class="title function_">processInline</span> = (<span class="params">text</span>) =&gt; &#123;</span><br><span class="line">    <span class="keyword">return</span> text</span><br><span class="line">      .<span class="title function_">replace</span>(<span class="regexp">/!\[([^\]]*)\]\(([^)]+)\)/g</span>, <span class="string">&#x27;&lt;img src=&quot;$2&quot; alt=&quot;$1&quot;&gt;&#x27;</span>)</span><br><span class="line">      .<span class="title function_">replace</span>(<span class="regexp">/\[([^\]]+)\]\(([^)]+)\)/g</span>, <span class="string">&#x27;&lt;a href=&quot;$2&quot;&gt;$1&lt;/a&gt;&#x27;</span>)</span><br><span class="line">      .<span class="title function_">replace</span>(<span class="regexp">/\*\*(.*?)\*\*/g</span>, <span class="string">&#x27;&lt;strong&gt;$1&lt;/strong&gt;&#x27;</span>)</span><br><span class="line">      .<span class="title function_">replace</span>(<span class="regexp">/\*(.*?)\*/g</span>, <span class="string">&#x27;&lt;em&gt;$1&lt;/em&gt;&#x27;</span>);</span><br><span class="line">  &#125;;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">const</span> line <span class="keyword">of</span> lines) &#123;</span><br><span class="line">    <span class="comment">// 处理标题</span></span><br><span class="line">    <span class="keyword">const</span> headingMatch = line.<span class="title function_">match</span>(<span class="regexp">/^(#+)\s+(.*)/</span>);</span><br><span class="line">    <span class="keyword">if</span> (headingMatch) &#123;</span><br><span class="line">      <span class="title function_">flushParagraph</span>();</span><br><span class="line">      <span class="title function_">flushList</span>();</span><br><span class="line">      <span class="keyword">const</span> level = <span class="title class_">Math</span>.<span class="title function_">min</span>(headingMatch[<span class="number">1</span>].<span class="property">length</span>, <span class="number">6</span>);</span><br><span class="line">      html.<span class="title function_">push</span>(<span class="string">`&lt;h<span class="subst">$&#123;level&#125;</span>&gt;<span class="subst">$&#123;processInline(headingMatch[<span class="number">2</span>])&#125;</span>&lt;/h<span class="subst">$&#123;level&#125;</span>&gt;`</span>);</span><br><span class="line">      <span class="keyword">continue</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 处理列表</span></span><br><span class="line">    <span class="keyword">const</span> listItemMatch = line.<span class="title function_">match</span>(<span class="regexp">/^[*\-]\s+(.*)/</span>);</span><br><span class="line">    <span class="keyword">if</span> (listItemMatch) &#123;</span><br><span class="line">      <span class="title function_">flushParagraph</span>();</span><br><span class="line">      <span class="keyword">if</span> (!inList) &#123;</span><br><span class="line">        html.<span class="title function_">push</span>(<span class="string">&#x27;&lt;ul&gt;&#x27;</span>);</span><br><span class="line">        inList = <span class="literal">true</span>;</span><br><span class="line">      &#125;</span><br><span class="line">      html.<span class="title function_">push</span>(<span class="string">`&lt;li&gt;<span class="subst">$&#123;processInline(listItemMatch[<span class="number">1</span>])&#125;</span>&lt;/li&gt;`</span>);</span><br><span class="line">      <span class="keyword">continue</span>;</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (inList) &#123;</span><br><span class="line">      <span class="title function_">flushList</span>();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 处理空行</span></span><br><span class="line">    <span class="keyword">if</span> (line.<span class="title function_">trim</span>() === <span class="string">&#x27;&#x27;</span>) &#123;</span><br><span class="line">      <span class="title function_">flushParagraph</span>();</span><br><span class="line">      <span class="keyword">continue</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 收集段落内容</span></span><br><span class="line">    currentParagraph.<span class="title function_">push</span>(line.<span class="title function_">trim</span>());</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 处理剩余内容</span></span><br><span class="line">  <span class="title function_">flushParagraph</span>();</span><br><span class="line">  <span class="title function_">flushList</span>();</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> html.<span class="title function_">join</span>(<span class="string">&#x27;\n&#x27;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/* /micromarkdown */</span></span><br><span class="line"><span class="keyword">async</span> <span class="keyword">function</span> <span class="title function_">handleRequest</span>(<span class="params">request,env</span>) &#123;</span><br><span class="line">  <span class="keyword">const</span> url = <span class="keyword">new</span> <span class="title function_">URL</span>(request.<span class="property">url</span>);</span><br><span class="line">  <span class="keyword">const</span> params = url.<span class="property">searchParams</span>;</span><br><span class="line">  </span><br><span class="line">  <span class="comment">// 优先检查缓存请求</span></span><br><span class="line">  <span class="keyword">const</span> id = params.<span class="title function_">get</span>(<span class="string">&#x27;id&#x27;</span>);</span><br><span class="line">  <span class="keyword">let</span> cacheId = params.<span class="title function_">get</span>(<span class="string">&#x27;cache_id&#x27;</span>);</span><br><span class="line">  <span class="keyword">if</span> (cacheId) &#123;</span><br><span class="line">    <span class="keyword">const</span> cachedData = <span class="keyword">await</span> env.<span class="property">CACHE</span>.<span class="title function_">get</span>(cacheId);</span><br><span class="line">    <span class="keyword">if</span> (cachedData) &#123;</span><br><span class="line">      <span class="keyword">const</span> &#123; question, convertedAnswer &#125; = <span class="title class_">JSON</span>.<span class="title function_">parse</span>(cachedData);</span><br><span class="line">      <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Response</span>(<span class="title function_">createHTML</span>(</span><br><span class="line">        <span class="string">`缓存内容 #<span class="subst">$&#123;cacheId&#125;</span>`</span>,</span><br><span class="line">        <span class="string">`&lt;h1&gt;缓存内容&lt;/h1&gt;</span></span><br><span class="line"><span class="string">        &lt;div class=&quot;box&quot;&gt;</span></span><br><span class="line"><span class="string">          &lt;h3&gt;原始问题：&lt;/h3&gt;</span></span><br><span class="line"><span class="string">          &lt;div&gt;<span class="subst">$&#123;question&#125;</span>&lt;/div&gt;</span></span><br><span class="line"><span class="string">          &lt;h3&gt;AI回复：&lt;/h3&gt;</span></span><br><span class="line"><span class="string">          &lt;div&gt;<span class="subst">$&#123;convertedAnswer&#125;</span>&lt;/div&gt;</span></span><br><span class="line"><span class="string">        &lt;/div&gt;</span></span><br><span class="line"><span class="string">        &lt;p&gt;&lt;a href=&quot;<span class="subst">$&#123;url.origin&#125;</span>&quot;&gt;返回新提问&lt;/a&gt;&lt;/p&gt;`</span></span><br><span class="line">      ), &#123; <span class="attr">headers</span>: &#123; <span class="string">&#x27;Content-Type&#x27;</span>: <span class="string">&#x27;text/html&#x27;</span> &#125; &#125;);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Response</span>(<span class="title function_">createHTML</span>(</span><br><span class="line">      <span class="string">&#x27;缓存不存在&#x27;</span>,</span><br><span class="line">      <span class="string">&#x27;&lt;h1&gt;缓存不存在或已过期&lt;/h1&gt;&lt;p&gt;&lt;a href=&quot;/&quot;&gt;返回&lt;/a&gt;&lt;/p&gt;&#x27;</span></span><br><span class="line">    ), &#123; <span class="attr">status</span>: <span class="number">404</span>, <span class="attr">headers</span>: &#123; <span class="string">&#x27;Content-Type&#x27;</span>: <span class="string">&#x27;text/html&#x27;</span> &#125; &#125;);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">if</span> (id) &#123;</span><br><span class="line">    cacheId = id;</span><br><span class="line">    <span class="keyword">const</span> cachedData = <span class="keyword">await</span> env.<span class="property">CACHE</span>.<span class="title function_">get</span>(cacheId);</span><br><span class="line">    <span class="keyword">if</span> (cachedData) &#123;</span><br><span class="line">      <span class="keyword">const</span> &#123; question, convertedAnswer &#125; = <span class="title class_">JSON</span>.<span class="title function_">parse</span>(cachedData);</span><br><span class="line">      <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Response</span>(<span class="title function_">createHTML</span>(</span><br><span class="line">        <span class="string">`#<span class="subst">$&#123;cacheId&#125;</span> <span class="subst">$&#123;question&#125;</span>`</span>,</span><br><span class="line">        <span class="string">`&lt;h1&gt;缓存内容&lt;/h1&gt;</span></span><br><span class="line"><span class="string">        &lt;div class=&quot;box&quot;&gt;</span></span><br><span class="line"><span class="string">          &lt;h3&gt;原始问题：&lt;/h3&gt;</span></span><br><span class="line"><span class="string">          &lt;div&gt;<span class="subst">$&#123;question&#125;</span>&lt;/div&gt;</span></span><br><span class="line"><span class="string">          &lt;h3&gt;AI回复：&lt;/h3&gt;</span></span><br><span class="line"><span class="string">          &lt;div&gt;<span class="subst">$&#123;convertedAnswer&#125;</span>&lt;/div&gt;</span></span><br><span class="line"><span class="string">        &lt;/div&gt;</span></span><br><span class="line"><span class="string">        &lt;p&gt;&lt;a href=&quot;<span class="subst">$&#123;url.origin&#125;</span>&quot;&gt;返回新提问&lt;/a&gt;&lt;/p&gt;`</span></span><br><span class="line">      ), &#123; <span class="attr">headers</span>: &#123; <span class="string">&#x27;Content-Type&#x27;</span>: <span class="string">&#x27;text/html&#x27;</span> &#125; &#125;);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">// 处理新请求</span></span><br><span class="line">  <span class="keyword">const</span> question = params.<span class="title function_">get</span>(<span class="string">&#x27;content&#x27;</span>);</span><br><span class="line">  <span class="keyword">if</span> (!question) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Response</span>(<span class="title function_">createHTML</span>(<span class="string">&#x27;JavaScript-free DeepSeek&#x27;</span>,<span class="string">&#x27;&lt;h2&gt;我是 DeepSeek-R1，不该问的别问&lt;/h2&gt;&lt;p&gt;我有可能可以帮你写代码、读文件、写作各种创意内容，请把你的任务交给我吧~&lt;/p&gt;&lt;p&gt;提示：上为content，下为id，注意区分&lt;/p&gt;&lt;form method=&quot;GET&quot; action=&quot;/&quot;&gt;&lt;input type=&quot;text&quot; name=&quot;content&quot; placeholder=&quot;向 DeepSeek-R1 询问任何问题&quot;&gt;&lt;input type=&quot;text&quot; name=&quot;id&quot; placeholder=&quot;请输入ID&quot;&gt;&lt;button type=&quot;submit&quot;&gt;发送&lt;/button&gt;&lt;/form&gt;&lt;p&gt;Created by Keee&lt;/p&gt;&#x27;</span>), &#123; <span class="attr">status</span>: <span class="number">400</span>, <span class="attr">headers</span>: &#123; <span class="string">&#x27;Content-Type&#x27;</span>: <span class="string">&#x27;text/html&#x27;</span> &#125; &#125;);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">try</span> &#123;</span><br><span class="line">    <span class="comment">// 调用OpenAI API</span></span><br><span class="line">    <span class="keyword">const</span> response = <span class="keyword">await</span> <span class="title function_">fetch</span>(<span class="string">&#x27;https://integrate.api.nvidia.com/v1/chat/completions&#x27;</span>, &#123;</span><br><span class="line">      <span class="attr">method</span>: <span class="string">&#x27;POST&#x27;</span>,</span><br><span class="line">      <span class="attr">headers</span>: &#123;</span><br><span class="line">        <span class="string">&#x27;Content-Type&#x27;</span>: <span class="string">&#x27;application/json&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;Authorization&#x27;</span>: <span class="string">`Bearer ***`</span></span><br><span class="line">      &#125;,</span><br><span class="line">      <span class="attr">body</span>: <span class="title class_">JSON</span>.<span class="title function_">stringify</span>(&#123;</span><br><span class="line">        <span class="attr">model</span>: <span class="string">&quot;deepseek-ai/deepseek-r1&quot;</span>,</span><br><span class="line">        <span class="attr">messages</span>: [&#123; <span class="attr">role</span>: <span class="string">&quot;user&quot;</span>, <span class="attr">content</span>: question &#125;],</span><br><span class="line">        <span class="attr">temperature</span>:<span class="number">0.6</span>,</span><br><span class="line">        <span class="attr">top_p</span>:<span class="number">0.7</span>,</span><br><span class="line">        <span class="attr">stream</span>:<span class="literal">false</span></span><br><span class="line">      &#125;)</span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">const</span> data = <span class="keyword">await</span> response.<span class="title function_">json</span>();</span><br><span class="line">    <span class="keyword">const</span> answer = data.<span class="property">choices</span>[<span class="number">0</span>].<span class="property">message</span>.<span class="property">content</span>;</span><br><span class="line">    <span class="keyword">const</span> convertedAnswer = <span class="title function_">markdownToHtml</span>(answer);</span><br><span class="line">    <span class="comment">// 生成缓存ID并存储</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">let</span> cacheId = <span class="title class_">Date</span>.<span class="title function_">now</span>().<span class="title function_">toString</span>(<span class="number">36</span>) + <span class="title class_">Math</span>.<span class="title function_">random</span>().<span class="title function_">toString</span>(<span class="number">36</span>).<span class="title function_">substr</span>(<span class="number">2</span>, <span class="number">5</span>)</span><br><span class="line">    <span class="keyword">if</span>(id) cacheId = id</span><br><span class="line">    <span class="keyword">await</span> env.<span class="property">CACHE</span>.<span class="title function_">put</span>(cacheId, <span class="title class_">JSON</span>.<span class="title function_">stringify</span>(&#123; question, convertedAnswer &#125;), &#123;</span><br><span class="line">      <span class="attr">expirationTtl</span>: <span class="variable constant_">CACHE_TTL</span></span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Response</span>(<span class="title function_">createHTML</span>(</span><br><span class="line">      question,</span><br><span class="line">      <span class="string">`&lt;h1&gt;Deepseek-R1&lt;/h1&gt;</span></span><br><span class="line"><span class="string">      &lt;div class=&quot;box&quot;&gt;</span></span><br><span class="line"><span class="string">        &lt;h3&gt;问题：&lt;/h3&gt;</span></span><br><span class="line"><span class="string">        &lt;div&gt;<span class="subst">$&#123;escapeHTML(question)&#125;</span>&lt;/div&gt;</span></span><br><span class="line"><span class="string">        &lt;h3&gt;AI回复：&lt;/h3&gt;</span></span><br><span class="line"><span class="string">        &lt;div&gt;<span class="subst">$&#123;convertedAnswer&#125;</span>&lt;/div&gt;</span></span><br><span class="line"><span class="string">      &lt;/div&gt;</span></span><br><span class="line"><span class="string">      &lt;p&gt;缓存链接：&lt;br&gt;</span></span><br><span class="line"><span class="string">        &lt;a class=&quot;cache-link&quot; href=&quot;?cache_id=<span class="subst">$&#123;cacheId&#125;</span>&quot;&gt;<span class="subst">$&#123;url.origin&#125;</span>/?cache_id=<span class="subst">$&#123;cacheId&#125;</span>&lt;/a&gt;</span></span><br><span class="line"><span class="string">      &lt;/p&gt;`</span></span><br><span class="line">    ), &#123; <span class="attr">headers</span>: &#123; <span class="string">&#x27;Content-Type&#x27;</span>: <span class="string">&#x27;text/html&#x27;</span> &#125; &#125;);</span><br><span class="line"></span><br><span class="line">  &#125; <span class="keyword">catch</span> (error) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Response</span>(<span class="title function_">createHTML</span>(</span><br><span class="line">      <span class="string">&#x27;发生错误&#x27;</span>,</span><br><span class="line">      <span class="string">`&lt;h1&gt;请求处理失败&lt;/h1&gt;</span></span><br><span class="line"><span class="string">      &lt;div class=&quot;box&quot;&gt;<span class="subst">$&#123;escapeHTML(error.message)&#125;</span>&lt;/div&gt;`</span></span><br><span class="line">    ), &#123; <span class="attr">status</span>: <span class="number">500</span>, <span class="attr">headers</span>: &#123; <span class="string">&#x27;Content-Type&#x27;</span>: <span class="string">&#x27;text/html&#x27;</span> &#125; &#125;);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  <span class="keyword">async</span> <span class="title function_">fetch</span>(<span class="params">request, env</span>) &#123;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="keyword">await</span> <span class="title function_">handleRequest</span>(request, env);</span><br><span class="line">    &#125; <span class="keyword">catch</span> (err) &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Response</span>(<span class="title function_">createHTML</span>(</span><br><span class="line">        <span class="string">&#x27;服务器错误&#x27;</span>,</span><br><span class="line">        <span class="string">`&lt;h1&gt;服务器内部错误&lt;/h1&gt;&lt;div class=&quot;box&quot;&gt;<span class="subst">$&#123;escapeHTML(err.message)&#125;</span>&lt;/div&gt;`</span></span><br><span class="line">      ), &#123; <span class="attr">status</span>: <span class="number">500</span>, <span class="attr">headers</span>: &#123; <span class="string">&#x27;Content-Type&#x27;</span>: <span class="string">&#x27;text/html&#x27;</span> &#125; &#125;);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></div><div class="article-footer reveal fs14"><section id="license"><div class="header"><span>许可协议</span></div><div class="body"><p>本文采用<a target="_blank" rel="noopener" href="https://creativecommons.org/licenses/by-nc-sa/4.0/">署名-非商业性使用-相同方式共享 4.0 国际</a>许可协议，转载请注明出处。</p></div></section></div></article><div class="related-wrap reveal" id="read-next"><section class="body"><div class="item" id="prev"><div class="note">较新文章</div><a href="/posts/50562.html">早课太困，咖啡续命</a></div><div class="item" id="next"><div class="note">较早文章</div><a href="/posts/50561.html">化学碎思</a></div></section></div><div class="related-wrap md-text reveal" id="comments"><div class="cmt-title cap theme">快来参与讨论吧</div><div class="cmt-body twikoo"><div id="twikoo_container" comment_id=""><svg class="loading" style="vertical-align:middle;fill:currentColor;overflow:hidden" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="2709"><path d="M832 512c0-176-144-320-320-320V128c211.2 0 384 172.8 384 384h-64zM192 512c0 176 144 320 320 320v64C300.8 896 128 723.2 128 512h64z" p-id="2710"></path></svg></div></div></div></div><footer class="page-footer reveal fs12"><hr><div class="text"><p>本博客所有文章除特别声明外，均采用 <a target="_blank" rel="noopener" href="https://creativecommons.org/licenses/by-nc-sa/4.0/">CC BY-NC-SA 4.0</a> 许可协议，转载请注明出处。</p><p>本站由 <a href="https://blog.keee.top/">@Keee</a> 创建，使用 <a target="_blank" rel="noopener" href="https://github.com/chiyuki0325/hexo-theme-stellaris">Stellaris</a> 作为主题。</p><div>由 <a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a> 强力驱动</div></div></footer><div class="float-panel mobile-only blur" style="display:none"><button type="button" class="sidebar-toggle mobile on-click-event" id="toggle-sidebar" data-on-click="sidebar.toggle();"><svg class="icon" style="width:1em;height:1em;vertical-align:middle;fill:currentColor;overflow:hidden" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="15301"><path d="M566.407 808.3c26.9-.1 49.3-20.8 51.6-47.6-1.9-27.7-23.9-49.7-51.6-51.6h-412.6c-28.2-1.4-52.6 19.5-55.5 47.6 2.3 26.8 24.6 47.5 51.6 47.6h416.5v4zm309.3-249.9c26.9-.1 49.3-20.8 51.6-47.6-2.2-26.8-24.6-47.5-51.6-47.6h-721.9c-27.7-2.8-52.5 17.4-55.3 45.1-.1.8-.1 1.7-.2 2.5.9 27.2 23.6 48.5 50.7 47.6H875.707zm-103.1-245.9c26.9-.1 49.3-20.8 51.6-47.6-.4-28.3-23.2-51.1-51.5-51.6h-618.9c-29.5-1.1-54.3 21.9-55.5 51.4v.2c1.4 27.8 25.2 49.2 53 47.8.8 0 1.7-.1 2.5-.2h618.8z" p-id="15302"></path><path d="M566.407 808.3c26.9-.1 49.3-20.8 51.6-47.6-1.9-27.7-23.9-49.7-51.6-51.6h-412.6c-28.2-1.4-52.6 19.5-55.5 47.6 1.9 27.7 23.9 49.7 51.6 51.6h416.5zm309.3-249.9c26.9-.1 49.3-20.8 51.6-47.6-2.2-26.8-24.6-47.5-51.6-47.6h-721.9c-27.7-2.8-52.5 17.4-55.3 45.1-.1.8-.1 1.7-.2 2.5.9 27.2 23.6 48.5 50.7 47.6H875.707zm-103.1-245.9c26.9-.1 49.3-20.8 51.6-47.6-.4-28.3-23.2-51.1-51.5-51.6h-618.9c-29.5-1.1-54.3 21.9-55.5 51.4v.2c1.4 27.8 25.2 49.2 53 47.8.8 0 1.7-.1 2.5-.2h618.8z" p-id="15303"></path></svg></button></div></div></div><div class="scripts"><script src="https://cdn.jsdmirror.com/npm/instantclick@3.1.0/instantclick.min.js" data-no-instant="true"></script><script data-no-instant="true">InstantClick.init()</script><script>stellar={root:"/",loadCSS:(e,s,n,t)=>{var i,r=window.document,l=r.createElement("link");if(s)i=s;else{var a=(r.body||r.getElementsByTagName("head")[0]).childNodes;i=a[a.length-1]}var o=r.styleSheets;if(t)for(var c in t)t.hasOwnProperty(c)&&l.setAttribute(c,t[c]);l.rel="stylesheet",l.href=e,l.media="only x",function e(s){if(r.body)return s();setTimeout((function(){e(s)}))}((function(){i.parentNode.insertBefore(l,s?i:i.nextSibling)}));var d=function(e){for(var s=l.href,n=o.length;n--;)if(o[n].href===s)return e();setTimeout((function(){d(e)}))};function m(){l.addEventListener&&l.removeEventListener("load",m),l.media=n||"all"}return l.addEventListener&&l.addEventListener("load",m),l.onloadcssdefined=d,d(m),l},loadScript:(e,s)=>new Promise(((n,t)=>{var i=document.createElement("script");if(i.src=e,s)for(let e of Object.keys(s))i[e]=s[e];else i.async=!0;i.onerror=t,i.onload=i.onreadystatechange=function(){const e=this.readyState;e&&"loaded"!==e&&"complete"!==e||(i.onload=i.onreadystatechange=null,n())},document.head.appendChild(i)})),jQuery:e=>stellaris.jQuery(e)},stellar.github="https://github.com/chiyuki0325/hexo-theme-stellaris",stellar.config={date_suffix:{just:"刚刚",min:"分钟前",hour:"小时前",day:"天前",month:"个月前"}},stellar.plugins=Object.assign({jQuery:"https://cdn.jsdmirror.com/npm/jquery@3.5.1/dist/jquery.min.js",stellar:{sites:"/js/plugins/sites.js",friends:"/js/plugins/friends.js",ghinfo:"/js/plugins/ghinfo.js",timeline:"/js/plugins/timeline.js",linkcard:"/js/plugins/linkcard.js",fcircle:"/js/plugins/fcircle.js",bvideo:"/js/plugins/bvideo.js"},marked:"https://cdn.jsdmirror.com/npm/marked@4.0.2/marked.min.js",instant_click:{js:"https://cdn.jsdmirror.com/npm/instantclick@3.1.0/instantclick.min.js"},lazyload:{enabled:!0,js:"https://cdn.jsdmirror.com/npm/vanilla-lazyload@19.1.3/dist/lazyload.min.js",transition:"blur"},swiper:{enabled:!0,css:"https://cdn.jsdmirror.com/npm/swiper@11/swiper-bundle.min.css",js:"https://cdn.jsdmirror.com/npm/swiper@11/swiper-bundle.min.js"},scrollreveal:{enabled:!0,js:"https://cdn.jsdmirror.com/npm/scrollreveal@4.0.9/dist/scrollreveal.min.js",distance:"8px",duration:500,interval:100,scale:1},fancybox:{enabled:!0,js:"https://cdn.jsdmirror.com/npm/@fancyapps/ui@4.0/dist/fancybox.umd.js",css:"https://cdn.jsdmirror.com/npm/@fancyapps/ui@4.0/dist/fancybox.css",selector:".swiper-slide img, .vcontent img:not(.vemoji), .tag-plugin.image img"},copycode:{enabled:!0,js:"/js/plugins/copycode.js",default_text:"复制",success_text:"已复制"}}),stellar.tag_plugins=Object.assign({bvideo:{enabled:!0,image_proxy:"https://stellaris-api.chyk.ink/bilibili/?url=",video_info:"https://stellaris-api.chyk.ink/bvideo_info/"}}),stellar.search=Object.assign({service:"local_search",js:"/js/search/local_search.js",path:"/search.json"}),stellar.article={outdate_month:2}</script><script src="/js/main.js" async data-no-instant="true"></script><script src="/js/check_outdated_browser.js" data-no-instant="true"></script><script data-no-instant="true">function load_twikoo(){document.querySelectorAll("#twikoo_container")[0]&&stellar.loadScript("https://s4.zstatic.net/ajax/libs/twikoo/1.6.38/twikoo.all.min.js",{defer:!0}).then((function(){var t=document.getElementById("twikoo_container").getAttribute("comment_id");t||(t=decodeURI(window.location.pathname)),twikoo.init(Object.assign({js:"https://s4.zstatic.net/ajax/libs/twikoo/1.6.38/twikoo.all.min.js",envId:"https://twikoo-netlify-c.netlify.app/.netlify/functions/twikoo# vercel函数"},{el:"#twikoo_container",path:t}))}))}InstantClick.on("change",(()=>{load_twikoo()})),window.addEventListener("load",load_twikoo,!1)</script><script data-no-instant="true">const applyTheme=e=>{document.documentElement.setAttribute("data-theme",e),window.localStorage.setItem("Stellaris.theme",e);hud?.toast?.({light:"切换到浅色模式",dark:"切换到深色模式",auto:"切换到跟随系统配色"}[e])},switchTheme=()=>{const e=document.documentElement.getAttribute("data-theme");let t=themeModeList[(themeModeList.indexOf(e)+1)%themeModeList.length];applyTheme(t)};var OSTheme=window.matchMedia("(prefers-color-scheme: dark)");OSTheme.addEventListener("change",(e=>{"auto"===document.documentElement.getAttribute("data-theme")&&ThemeChange("auto")}))</script><meta name="mobile-web-app-capable" content="yes"><link rel="manifest" href="/manifest.json"><meta name="baidu-site-verification" content="codeva-8nAvpqNA7U"><script async data-no-instant="" src="/js/functions.js"></script><script>"serviceWorker"in navigator&&window.addEventListener("load",(()=>{navigator.serviceWorker.register("/sw.js").then((()=>console.log("ServiceWorker 注册成功"))).catch((e=>console.log("ServiceWorker 注册失败:",e)))}))</script><script data-no-instant="">!function(t){"use strict";!function(){var s=window,c=document,e=t,i="".concat("https:"===c.location.protocol?"https://":"http://","cdn.jsdmirror.com/gh/cqlkc/cqlkc.github.io@master/js/tj-51.la.js"),o=c.createElement("script"),r=c.getElementsByTagName("script")[0];o.type="text/javascript",o.setAttribute("charset","UTF-8"),o.async=!0,o.src=i,o.id="LA_COLLECT",e.d=o;var n=function(){s.LA.ids.push(e)};s.LA?s.LA.ids&&n():(s.LA=t,s.LA.ids=[],n()),r.parentNode.insertBefore(o,r)}()}({id:"JsIPVLs73ODMmvyo",ck:"JsIPVLs73ODMmvyo"})</script></div></body></html>
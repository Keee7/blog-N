!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e=e||self).workbox={})}(this,(function(e){"use strict";try{self["workbox:window:5.1.3"]&&_()}catch(e){}function t(e,t){return new Promise((function(r){var n=new MessageChannel;n.port1.onmessage=function(e){r(e.data)},e.postMessage(t,[n.port2])}))}function r(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}try{self["workbox:core:5.1.3"]&&_()}catch(e){}var n=function(){var e=this;this.promise=new Promise((function(t,r){e.resolve=t,e.reject=r}))};var i=function(){"__WB_DISABLE_DEV_LOGS"in self||(self.__WB_DISABLE_DEV_LOGS=!1);for(var e=!1,t={debug:"#7f8c8d",log:"#2ecc71",warn:"#f39c12",error:"#c0392b",groupCollapsed:"#3498db",groupEnd:null},r={},n=Object.keys(t),i=function(){var n=a[o];r[n]=function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];!function(r,n){var i;if(!self.__WB_DISABLE_DEV_LOGS){var o;if("groupCollapsed"===r&&/^((?!chrome|android).)*safari/i.test(navigator.userAgent))return void(o=console)[r].apply(o,n);var a=e?[]:["%cworkbox",["background: "+t[r],"border-radius: 0.5em","color: white","font-weight: bold","padding: 2px 0.5em"].join(";")];(i=console)[r].apply(i,a.concat(n)),"groupCollapsed"===r&&(e=!0),"groupEnd"===r&&(e=!1)}}(n,i)}},o=0,a=n;o<a.length;o++)i();return r}();function o(e,t){var r=location.href;return new URL(e,r).href===new URL(t,r).href}var a=function(e,t){this.type=e,Object.assign(this,t)};function s(e,t,r){return r?t?t(e):e:(e&&e.then||(e=Promise.resolve(e)),t?e.then(t):e)}function c(){}var l=function(e){var c,l;function u(t,r){var c,l;return void 0===r&&(r={}),(c=e.call(this)||this)._registerOptions={},c._updateFoundCount=0,c._swDeferred=new n,c._activeDeferred=new n,c._controllingDeferred=new n,c._registrationTime=0,c._ownSWs=new Set,c._onUpdateFound=function(){var e=c._registration,t=e.installing;c._updateFoundCount>0||!o(t.scriptURL,c._scriptURL)||performance.now()>c._registrationTime+6e4?(c._externalSW=t,e.removeEventListener("updatefound",c._onUpdateFound)):(c._sw=t,c._ownSWs.add(t),c._swDeferred.resolve(t),navigator.serviceWorker.controller?i.log("Updated service worker found. Installing now..."):i.log("Service worker is installing...")),++c._updateFoundCount,t.addEventListener("statechange",c._onStateChange)},c._onStateChange=function(e){var t=c._registration,r=e.target,n=r.state,o=r===c._externalSW,s=o?"external":"",l={sw:r,originalEvent:e};switch(!o&&c._isUpdate&&(l.isUpdate=!0),c.dispatchEvent(new a(s+n,l)),"installed"===n?c._waitingTimeout=self.setTimeout((function(){"installed"===n&&t.waiting===r&&(c.dispatchEvent(new a(s+"waiting",l)),o?i.warn("An external service worker has installed but is waiting for this client to close before activating..."):i.warn("The service worker has installed but is waiting for existing clients to close before activating..."))}),200):"activating"===n&&(clearTimeout(c._waitingTimeout),o||c._activeDeferred.resolve(r)),n){case"installed":o?i.warn("An external service worker has installed. You may want to suggest users reload this page."):i.log("Registered service worker installed.");break;case"activated":o?i.warn("An external service worker has activated."):(i.log("Registered service worker activated."),r!==navigator.serviceWorker.controller&&i.warn("The registered service worker is active but not yet controlling the page. Reload or run `clients.claim()` in the service worker."));break;case"redundant":r===c._compatibleControllingSW?i.log("Previously controlling service worker now redundant!"):o||i.log("Registered service worker now redundant!")}},c._onControllerChange=function(e){var t=c._sw;t===navigator.serviceWorker.controller&&(c.dispatchEvent(new a("controlling",{sw:t,originalEvent:e,isUpdate:c._isUpdate})),i.log("Registered service worker now controlling this page."),c._controllingDeferred.resolve(t))},c._onMessage=(l=function(e){var t=e.data,r=e.source;return s(c.getSW(),(function(){c._ownSWs.has(r)&&c.dispatchEvent(new a("message",{data:t,sw:r,originalEvent:e}))}))},function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];try{return Promise.resolve(l.apply(this,e))}catch(e){return Promise.reject(e)}}),c._scriptURL=t,c._registerOptions=r,navigator.serviceWorker.addEventListener("message",c._onMessage),c}l=e,(c=u).prototype=Object.create(l.prototype),c.prototype.constructor=c,c.__proto__=l;var d,v,f,p=u.prototype;return p.register=function(e){var t=(void 0===e?{}:e).immediate,r=void 0!==t&&t;try{var n=this;return n._registrationTime?void i.error("Cannot re-register a Workbox instance after it has been registered. Create a new instance instead."):function(e,t){var r=e();if(r&&r.then)return r.then(t);return t(r)}((function(){if(!r&&"complete"!==document.readyState)return g(new Promise((function(e){return window.addEventListener("load",e)})))}),(function(){return n._isUpdate=Boolean(navigator.serviceWorker.controller),n._compatibleControllingSW=n._getControllingSWIfCompatible(),s(n._registerScript(),(function(e){n._registration=e,n._compatibleControllingSW&&(n._sw=n._compatibleControllingSW,n._activeDeferred.resolve(n._compatibleControllingSW),n._controllingDeferred.resolve(n._compatibleControllingSW),n._compatibleControllingSW.addEventListener("statechange",n._onStateChange,{once:!0}));var t=n._registration.waiting;t&&o(t.scriptURL,n._scriptURL)&&(n._sw=t,Promise.resolve().then((function(){n.dispatchEvent(new a("waiting",{sw:t,wasWaitingBeforeRegister:!0})),i.warn("A service worker was already waiting to activate before this script was registered...")})).then((function(){}))),n._sw&&(n._swDeferred.resolve(n._sw),n._ownSWs.add(n._sw)),i.log("Successfully registered service worker.",n._scriptURL),navigator.serviceWorker.controller&&(n._compatibleControllingSW?i.debug("A service worker with the same script URL is already controlling this page."):i.debug("A service worker with a different script URL is currently controlling the page. The browser is now fetching the new script now..."));var r,s;return r=new URL(n._registerOptions.scope||n._scriptURL,document.baseURI),s=new URL("./",r.href).pathname,location.pathname.startsWith(s)||i.warn("The current page is not in scope for the registered service worker. Was this a mistake?"),n._registration.addEventListener("updatefound",n._onUpdateFound),navigator.serviceWorker.addEventListener("controllerchange",n._onControllerChange,{once:!0}),n._registration}))}))}catch(e){return Promise.reject(e)}},p.update=function(){try{return this._registration?g(this._registration.update()):void i.error("Cannot update a Workbox instance without being registered. Register the Workbox instance first.")}catch(e){return Promise.reject(e)}},p.getSW=function(){try{var e=this;return void 0!==e._sw?e._sw:e._swDeferred.promise}catch(e){return Promise.reject(e)}},p.messageSW=function(e){try{return s(this.getSW(),(function(r){return t(r,e)}))}catch(e){return Promise.reject(e)}},p._getControllingSWIfCompatible=function(){var e=navigator.serviceWorker.controller;return e&&o(e.scriptURL,this._scriptURL)?e:void 0},p._registerScript=function(){try{var e=this;return function(e,t){try{var r=e()}catch(e){return t(e)}if(r&&r.then)return r.then(void 0,t);return r}((function(){return s(navigator.serviceWorker.register(e._scriptURL,e._registerOptions),(function(t){return e._registrationTime=performance.now(),t}))}),(function(e){throw i.error(e),e}))}catch(e){return Promise.reject(e)}},d=u,(v=[{key:"active",get:function(){return this._activeDeferred.promise}},{key:"controlling",get:function(){return this._controllingDeferred.promise}}])&&r(d.prototype,v),f&&r(d,f),u}(function(){function e(){this._eventListenerRegistry=new Map}var t=e.prototype;return t.addEventListener=function(e,t){this._getEventListenersByType(e).add(t)},t.removeEventListener=function(e,t){this._getEventListenersByType(e).delete(t)},t.dispatchEvent=function(e){e.target=this;var t=this._getEventListenersByType(e.type),r=Array.isArray(t),n=0;for(t=r?t:t[Symbol.iterator]();;){var i;if(r){if(n>=t.length)break;i=t[n++]}else{if((n=t.next()).done)break;i=n.value}i(e)}},t._getEventListenersByType=function(e){return this._eventListenerRegistry.has(e)||this._eventListenerRegistry.set(e,new Set),this._eventListenerRegistry.get(e)},e}());function g(e,t){if(!t)return e&&e.then?e.then(c):Promise.resolve()}e.Workbox=l,e.messageSW=t,Object.defineProperty(e,"__esModule",{value:!0})}));
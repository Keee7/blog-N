var __defProp=Object.defineProperty,__getOwnPropSymbols=Object.getOwnPropertySymbols,__hasOwnProp=Object.prototype.hasOwnProperty,__propIsEnum=Object.prototype.propertyIsEnumerable,__defNormalProp=(t,e,o)=>e in t?__defProp(t,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):t[e]=o,__spreadValues=(t,e)=>{for(var o in e||(e={}))__hasOwnProp.call(e,o)&&__defNormalProp(t,o,e[o]);if(__getOwnPropSymbols)for(var o of __getOwnPropSymbols(e))__propIsEnum.call(e,o)&&__defNormalProp(t,o,e[o]);return t};!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(require("artalk")):"function"==typeof define&&define.amd?define(["artalk"],e):e((t="undefined"!=typeof globalThis?globalThis:t||self).Artalk)}(this,(function(t){"use strict";(function(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}})(t).default.use((t=>{const e="atk-lightbox-loaded",o=window.ATK_LIGHTBOX_TYPE,r=t=>!o&&window[t]||(o||"").toLowerCase()===t.toLowerCase();t.on("list-loaded",(()=>{const o=[];t.getCommentList().forEach((t=>{const n=t.getRender().$content;n.querySelectorAll(`img:not([atk-emoticon]):not([${e}])`).forEach((t=>{t.setAttribute(e,"");const r=document.createElement("a");r.setAttribute("class","atk-lightbox-img"),r.setAttribute("href",t.src),r.setAttribute("data-src",t.src),r.append(t.cloneNode()),t.replaceWith(r),o.push(r)})),r("lightGallery")&&window.lightGallery(n,__spreadValues({selector:".atk-lightbox-img"},window.ATK_LIGHTBOX_CONF||{}))})),r("lightbox")&&o.forEach((t=>{window.$(t).attr("data-title",window.$(t).find("img").attr("alt")),window.$(t).attr("rel","lightbox"),t.onclick=e=>{e.preventDefault(),window.lightbox.start(window.$(t))}}))})),r("Fancybox")&&window.Fancybox.bind(".artalk .atk-list .atk-lightbox-img",window.ATK_LIGHTBOX_CONF)}))}));
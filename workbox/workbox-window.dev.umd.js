!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).workbox={})}(this,(function(e){"use strict";try{self["workbox:window:7.0.0"]&&_()}catch(e){}function t(e,t){return new Promise((function(r){var n=new MessageChannel;n.port1.onmessage=function(e){r(e.data)},e.postMessage(t,[n.port2])}))}function r(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}function n(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,r(i.key),i)}}function i(e,t){return i=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},i(e,t)}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function a(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(r)return(r=r.call(e)).next.bind(r);if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return o(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?o(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0;return function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}try{self["workbox:core:7.0.0"]&&_()}catch(e){}var s=function(){var e=this;this.promise=new Promise((function(t,r){e.resolve=t,e.reject=r}))};var c=function(){"__WB_DISABLE_DEV_LOGS"in globalThis||(self.__WB_DISABLE_DEV_LOGS=!1);for(var e=!1,t={debug:"#7f8c8d",log:"#2ecc71",warn:"#f39c12",error:"#c0392b",groupCollapsed:"#3498db",groupEnd:null},r={},n=Object.keys(t),i=function(){var n=a[o];r[n]=function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];!function(r,n){var i;if(!self.__WB_DISABLE_DEV_LOGS){var o;if("groupCollapsed"===r&&/^((?!chrome|android).)*safari/i.test(navigator.userAgent))return void(o=console)[r].apply(o,n);var a=e?[]:["%cworkbox",["background: "+t[r],"border-radius: 0.5em","color: white","font-weight: bold","padding: 2px 0.5em"].join(";")];(i=console)[r].apply(i,a.concat(n)),"groupCollapsed"===r&&(e=!0),"groupEnd"===r&&(e=!1)}}(n,i)}},o=0,a=n;o<a.length;o++)i();return r}();function l(e,t){var r=location.href;return new URL(e,r).href===new URL(t,r).href}var u=function(e,t){this.type=e,Object.assign(this,t)};function g(e,t,r){return r?t?t(e):e:(e&&e.then||(e=Promise.resolve(e)),t?e.then(t):e)}function d(){}var v={type:"SKIP_WAITING"};function f(e,t){if(!t)return e&&e.then?e.then(d):Promise.resolve()}var p=function(e){function r(t,r){var n,i;return void 0===r&&(r={}),(n=e.call(this)||this)._registerOptions={},n._updateFoundCount=0,n._swDeferred=new s,n._activeDeferred=new s,n._controllingDeferred=new s,n._registrationTime=0,n._ownSWs=new Set,n._onUpdateFound=function(){var e=n._registration,t=e.installing;n._updateFoundCount>0||!l(t.scriptURL,n._scriptURL.toString())||performance.now()>n._registrationTime+6e4?(n._externalSW=t,e.removeEventListener("updatefound",n._onUpdateFound)):(n._sw=t,n._ownSWs.add(t),n._swDeferred.resolve(t),navigator.serviceWorker.controller?c.log("Updated service worker found. Installing now..."):c.log("Service worker is installing...")),++n._updateFoundCount,t.addEventListener("statechange",n._onStateChange)},n._onStateChange=function(e){var t=n._registration,r=e.target,i=r.state,o=r===n._externalSW,a={sw:r,isExternal:o,originalEvent:e};switch(!o&&n._isUpdate&&(a.isUpdate=!0),n.dispatchEvent(new u(i,a)),"installed"===i?n._waitingTimeout=self.setTimeout((function(){"installed"===i&&t.waiting===r&&(n.dispatchEvent(new u("waiting",a)),o?c.warn("An external service worker has installed but is waiting for this client to close before activating..."):c.warn("The service worker has installed but is waiting for existing clients to close before activating..."))}),200):"activating"===i&&(clearTimeout(n._waitingTimeout),o||n._activeDeferred.resolve(r)),i){case"installed":o?c.warn("An external service worker has installed. You may want to suggest users reload this page."):c.log("Registered service worker installed.");break;case"activated":o?c.warn("An external service worker has activated."):(c.log("Registered service worker activated."),r!==navigator.serviceWorker.controller&&c.warn("The registered service worker is active but not yet controlling the page. Reload or run `clients.claim()` in the service worker."));break;case"redundant":r===n._compatibleControllingSW?c.log("Previously controlling service worker now redundant!"):o||c.log("Registered service worker now redundant!")}},n._onControllerChange=function(e){var t=n._sw,r=t!==navigator.serviceWorker.controller;n.dispatchEvent(new u("controlling",{isExternal:r,originalEvent:e,sw:t,isUpdate:n._isUpdate})),r||(c.log("Registered service worker now controlling this page."),n._controllingDeferred.resolve(t))},n._onMessage=(i=function(e){var t=e.data,r=e.ports,i=e.source;return g(n.getSW(),(function(){n._ownSWs.has(i)&&n.dispatchEvent(new u("message",{data:t,originalEvent:e,ports:r,sw:i}))}))},function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];try{return Promise.resolve(i.apply(this,e))}catch(e){return Promise.reject(e)}}),n._scriptURL=t,n._registerOptions=r,navigator.serviceWorker.addEventListener("message",n._onMessage),n}var o,a;a=e,(o=r).prototype=Object.create(a.prototype),o.prototype.constructor=o,i(o,a);var d,p,h,w=r.prototype;return w.register=function(e){var t=(void 0===e?{}:e).immediate,r=void 0!==t&&t;try{var n=this;return n._registrationTime?(c.error("Cannot re-register a Workbox instance after it has been registered. Create a new instance instead."),g()):g(function(e,t){var r=e();if(r&&r.then)return r.then(t);return t(r)}((function(){if(!r&&"complete"!==document.readyState)return f(new Promise((function(e){return window.addEventListener("load",e)})))}),(function(){return n._isUpdate=Boolean(navigator.serviceWorker.controller),n._compatibleControllingSW=n._getControllingSWIfCompatible(),g(n._registerScript(),(function(e){n._registration=e,n._compatibleControllingSW&&(n._sw=n._compatibleControllingSW,n._activeDeferred.resolve(n._compatibleControllingSW),n._controllingDeferred.resolve(n._compatibleControllingSW),n._compatibleControllingSW.addEventListener("statechange",n._onStateChange,{once:!0}));var t=n._registration.waiting;t&&l(t.scriptURL,n._scriptURL.toString())&&(n._sw=t,Promise.resolve().then((function(){n.dispatchEvent(new u("waiting",{sw:t,wasWaitingBeforeRegister:!0})),c.warn("A service worker was already waiting to activate before this script was registered...")})).then((function(){}))),n._sw&&(n._swDeferred.resolve(n._sw),n._ownSWs.add(n._sw)),c.log("Successfully registered service worker.",n._scriptURL.toString()),navigator.serviceWorker.controller&&(n._compatibleControllingSW?c.debug("A service worker with the same script URL is already controlling this page."):c.debug("A service worker with a different script URL is currently controlling the page. The browser is now fetching the new script now..."));var r,i;return r=new URL(n._registerOptions.scope||n._scriptURL.toString(),document.baseURI),i=new URL("./",r.href).pathname,location.pathname.startsWith(i)||c.warn("The current page is not in scope for the registered service worker. Was this a mistake?"),n._registration.addEventListener("updatefound",n._onUpdateFound),navigator.serviceWorker.addEventListener("controllerchange",n._onControllerChange),n._registration}))})))}catch(e){return Promise.reject(e)}},w.update=function(){try{return this._registration?g(f(this._registration.update())):(c.error("Cannot update a Workbox instance without being registered. Register the Workbox instance first."),g())}catch(e){return Promise.reject(e)}},w.getSW=function(){return void 0!==this._sw?Promise.resolve(this._sw):this._swDeferred.promise},w.messageSW=function(e){try{return g(this.getSW(),(function(r){return t(r,e)}))}catch(e){return Promise.reject(e)}},w.messageSkipWaiting=function(){this._registration&&this._registration.waiting&&t(this._registration.waiting,v)},w._getControllingSWIfCompatible=function(){var e=navigator.serviceWorker.controller;return e&&l(e.scriptURL,this._scriptURL.toString())?e:void 0},w._registerScript=function(){try{var e=this;return g(function(e,t){try{var r=e()}catch(e){return t(e)}if(r&&r.then)return r.then(void 0,t);return r}((function(){return g(navigator.serviceWorker.register(e._scriptURL,e._registerOptions),(function(t){return e._registrationTime=performance.now(),t}))}),(function(e){throw c.error(e),e})))}catch(e){return Promise.reject(e)}},d=r,(p=[{key:"active",get:function(){return this._activeDeferred.promise}},{key:"controlling",get:function(){return this._controllingDeferred.promise}}])&&n(d.prototype,p),h&&n(d,h),Object.defineProperty(d,"prototype",{writable:!1}),d}(function(){function e(){this._eventListenerRegistry=new Map}var t=e.prototype;return t.addEventListener=function(e,t){this._getEventListenersByType(e).add(t)},t.removeEventListener=function(e,t){this._getEventListenersByType(e).delete(t)},t.dispatchEvent=function(e){e.target=this;for(var t,r=a(this._getEventListenersByType(e.type));!(t=r()).done;){(0,t.value)(e)}},t._getEventListenersByType=function(e){return this._eventListenerRegistry.has(e)||this._eventListenerRegistry.set(e,new Set),this._eventListenerRegistry.get(e)},e}());e.Workbox=p,e.WorkboxEvent=u,e.messageSW=t,Object.defineProperty(e,"__esModule",{value:!0})}));